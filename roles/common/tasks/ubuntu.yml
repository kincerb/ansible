---
- name: Install first-party packages
  apt:
    name: '{{ package }}'
  vars:
    package:
      - apt-transport-https
      - bat
      - ca-certificates
      - curl
      - git
      - jq
      - python3-pip
      - python3-venv
      - rsync
      - silversearcher-ag
      - socat
      - software-properties-common
      - tmux
      - unzip
      - vim

- name: Get nodejs stat
  stat:
    path: /usr/bin/node
  register: node_stat
  ignore_errors: true

- name: Install nodejs
  import_tasks: node.yml
  when: node_stat.stat.exists is not defined
...
